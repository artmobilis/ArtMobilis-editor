<div id="editor">

  <div id="header">
    <!-- empty header -->
  </div>

  <div id="content">

    <div id="navigation">

      
      <h3>Assets</h3>

      <label class="btn btn-primary" ng-model="selection.model" uib-btn-radio="'journey'">
        {{(!journey.name || journey.name === '') ? 'unnamed journey' : journey.name}}
      </label>

      <uib-accordion close-others="oneAtATime">
        <uib-accordion-group heading="POIs" is-open="">
          <label class="btn btn-primary" ng-model="selection.model"
          uib-btn-radio="'{{'pois_' + key}}'"
          draggable drag="{{'DragAsset(\'pois\', \'' + key + '\')'}}"
          ng-repeat="(key, value) in pois">
            {{value.name || key}}
          </label>
          <label class="btn btn-primary" ng-click="NewPoi()">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </label>
        </uib-accordion-group>

        <uib-accordion-group heading="Channels" is-open="">
          <label class="btn btn-primary" ng-model="selection.model"
          uib-btn-radio="'{{'channels_' + key}}'"
          draggable drag="{{'DragAsset(\'channels\', \'' + key + '\')'}}"
          ng-repeat="(key, value) in channels">
            {{value.name || key}}
          </label>
          <label class="btn btn-primary" ng-click="NewChannel()">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </label>
        </uib-accordion-group>

        <uib-accordion-group heading="Markers" is-open="">
          <label class="btn btn-primary" ng-model="selection.model"
          draggable drag="{{'DragAsset(\'markers\', \'' + key + '\')'}}"
          uib-btn-radio="'{{'markers_' + key}}'"
          ng-repeat="(key, value) in markers">
            {{value.name || key}}
          </label>
          <label class="btn btn-primary" ng-click="NewMarker()">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </label>
        </uib-accordion-group>

        <uib-accordion-group heading="Contents" is-open="">
          <label class="btn btn-primary" ng-model="selection.model"
          uib-btn-radio="'{{'contents_' + key}}'"
          draggable drag="{{'DragAsset(\'contents\', \'' + key + '\')'}}"
          ng-repeat="(key, value) in contents">
            {{value.name || key}}
          </label>
          <label class="btn btn-primary" ng-click="NewContent()">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </label>
        </uib-accordion-group>

        <uib-accordion-group heading="Objects" is-open="">
          <label class="btn btn-primary" ng-model="selection.model"
          uib-btn-radio="'{{'objects_' + key}}'"
          draggable drag="{{'DragAsset(\'objects\', \'' + key + '\')'}}"
          ng-repeat="(key, value) in objects">
            {{value.name || key}}
          </label>
          <label class="btn btn-primary" ng-click="NewObject()">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          </label>
        </uib-accordion-group>
      </uib-accordion>



    </div>

    <div id="preview">

      preview

      <div id="preview_journey">
      </div>
      <div id="edit_channel">
      </div>

    </div>

    <div id="edit">
      <div id="edit_journey" ng-show="selection.type === 'journey'"
      droppable drop="Drop">
        <h3>Edit journey</h3>
        <div class="field-name">Name</div>
        <input type="text" ng-model="journey.name">
        <div class="field-name">POIs</div>
        <ul class="grp-border">
          <li ng-repeat="poi_id in journey.pois track by $index">{{pois[poi_id].name}}</li>
        </ul>
      </div>

      <div id="edit_poi" ng-show="selection.type === 'pois'"
      droppable drop="Drop">
        <h3>Edit POI</h3>
        <div ng-include="'templates/delete_button.html'" ng-click="Remove()"></div>
        <div class="field-name">Name</div>
        <input type="text" ng-model="selection.elem.name">
        <div class="field-name">Latitude</div>
        <input type="number" ng-model="selection.elem.latitude" class="edit-field">
        <div class="field-name">Longitude</div>
        <input type="number" ng-model="selection.elem.longitude" class="edit-field">
        <div class="field-name">Radius</div>
        <input type="number" ng-model="selection.elem.radius" class="edit-field">
        <div class="field-name">Channels</div>

        <uib-accordion close-others="oneAtATime">
          <uib-accordion-group heading="{{channels[poi_channel.uuid].name}}"
          ng-repeat="(key, poi_channel) in selection.elem.channels"
          droppable drop="{{'DropToPoiChannel(\'' + selection.id + '\', \'' + key + '\');'}}">
            <div class="field-name">Object</div>
            <div class="grp-border">{{objects[poi_channel.object].name || poi_channel.object || 'Drop object'}}</div>
            <div ng-show="objects[poi_channel.object] !== undefined">
              <div class="field-name">Object's latitude</div>
              <input type="number" ng-model="poi_channel.latitude">
              <div class="field-name">Object's longitude</div>
              <input type="number" ng-model="poi_channel.longitude">
              <div class="field-name">Object's altitude</div>
              <input type="number" ng-model="poi_channel.altitude">
              <div class="field-name">Object's scale</div>
              <input type="number" ng-model="poi_channel.scale">
            </div>
          </uib-accordion-group>
        </uib-accordion>

      </div>

      <div id="edit_channel" ng-show="selection.type === 'channels'"
      droppable drop="Drop" style="height: 100%">
        <h3>Edit channel</h3>
        <div ng-include="'templates/delete_button.html'" ng-click="Remove()"></div>
        <div class="field-name">Name</div>
        <input type="text" ng-model="selection.elem.name">
        <div class="field-name">Marker</div>
        <div class="grp-border">
          {{markers[selection.elem.marker].name}}
        </div>
        <div class="field-name">Contents</div>
        <div class="content-array">
          <div ng-repeat="chan_content in selection.elem.contents track by $index">
            <input type="text" ng-model="chan_content.name">
          </div>
        </div>
      </div>

      <div id="edit_marker" ng-show="selection.type === 'markers'">
        <h3>Edit marker</h3>
        <div ng-include="'templates/delete_button.html'" ng-click="Remove()"></div>
        <div class="field-name">Name</div>
        <input type="text" ng-model="selection.elem.name">
        <div class="field-name">Type</div>
        <select ng-model="selection.elem.type">
          <option value="img">Image</option>
          <option value="tag">Tag</option>
        </select>
        <div ng-show="selection.elem.type === 'tag'">
        <div class="field-name">Tag id</div>
          <input type="number" ng-model="selection.elem.tag_id">
        </div>
        <div class="field-name">Url</div>
        <input type="text" ng-model="selection.elem.url">
      </div>

      <div id="edit_content" ng-show="selection.type === 'contents'"
      droppable drop="Drop">
        <h3>Edit content</h3>
        <div ng-include="'templates/delete_button.html'" ng-click="Remove()"></div>
        <div class="field-name">Name</div>
        <input type="text" ng-model="selection.elem.name">
        <div class="field-name">Object</div>
        <div class="grp-border">
          {{objects[selection.elem.object].name || objects[selection.elem.object].uuid}}
        </div>
      </div>

      <div id="edit_object" ng-show="selection.type === 'objects'">
        <h3>Edit object</h3>
        <div ng-include="'templates/delete_button.html'" ng-click="Remove()"></div>
        <div class="field-name">Name</div>
        <input type="text" ng-model="selection.elem.name">
      </div>

    </div>


  </div>

  <div id="footer">
    <!-- empty footer -->
  </div>

</div>